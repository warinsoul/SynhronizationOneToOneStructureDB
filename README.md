# SynhronizationOneToOneStructureDB
Синхронизация бд с одинаковой структурой(по сути репликация) для MS SQL
# Установка:
1. Выполнить скрипт с префиксом DDL_CreateDataBase- этот скрипт создает БД для обмена и логирования
2. Выполнить остальные скрипты с префиксом DDL_* в любом порядке - эти скрипты создают системные сущности настроек и логов
3. Выполнить скрипты с префиксом SF_* - эти скрипты скалярных функций в основном для сборки в единую строку столбцов
4. Выполнить скрипты с префиксом TF_* - эти скрипты табличной фукции разворота списка по разделителю в таблицу аналог string_to_table->unnest в posrtgresql
5. Выполнить скрипт PR_SynchronizationUppCopyUpp.sql - скрипт который отвечает не посредственно за синхронизацию(формирует дельту, определяет это новая запись или изменение записи)
6. Выполнить скрипт PR_InitLoadTable.sql - скрипт который отвечает за старт и логи загрузки(инициализирует DATASET)


# Использование:
За настройку загрузок отвечает таблица LoadParametrs:
  1. TableName - наименование таблицы как в источнике так и в целевой таблице
  2. db_name_from - наименование Базы данных источника
  3. db_name_to - наименование целевой Базы данных
  4. history_day - Количество дней хранения логов
  5. PrimaryKeys - первичный или уникальный ключ идентифициирующий запись может быть составной поля перечисляются через запятую
